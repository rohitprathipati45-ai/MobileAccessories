<!doctype html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0ZE6T46MWH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0ZE6T46MWH');
</script>

  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MobileAccessories â€” Home</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom styling for an e-commerce look */
    :root{ --brand:#1f2937; --accent:#0ea5e9; --muted:#6b7280; --card: #ffffff;}
    body { -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
    .search-input { box-shadow: 0 6px 20px rgba(2,6,23,0.06); }
    .product-card { transition: transform .16s ease, box-shadow .16s ease; }
    .product-card:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(2,6,23,0.08); }
    .badge-sale { background: linear-gradient(90deg,#fecaca,#fee2e2); color:#b91c1c; padding:.15rem .5rem; border-radius:999px; font-weight:700; font-size:.75rem;}
    .cart-panel { transform: translateX(120%); transition: transform .28s cubic-bezier(.2,.9,.3,1); }
    .cart-panel.open { transform: translateX(0); }
    .hero-gradient { background: linear-gradient(90deg,#f8fafc 0%, #eef2ff 100%); }
    .star { color:#f59e0b; }
    @media (max-width:640px){ .hide-sm{display:none} }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <!-- HEADER -->
  <header class="bg-white border-b sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center gap-4 h-16">
        <a href="index.html" class="flex items-center gap-3">
          <div class="w-11 h-11 bg-[#0ea5e9] text-white rounded-md flex items-center justify-center font-semibold">MA</div>
          <div class="hidden sm:block">
            <div class="font-bold">MobileAccessories</div>
            <div class="text-xs text-gray-500">Quality accessories, delivered fast</div>
          </div>
        </a>

        <div class="flex-1">
          <div class="flex items-center gap-3">
            <div class="flex items-center flex-1">
              <input id="search" type="search" placeholder="Search for chargers, cases, earbuds, powerbanks..." class="search-input w-full border rounded-l-full px-4 py-3 focus:outline-none"/>
              <button id="searchBtn" class="bg-[#0ea5e9] text-white px-4 py-3 rounded-r-full">Search</button>
            </div>
            <nav class="hidden md:flex items-center gap-4 ml-4">
              <a href="products.html" class="text-sm hover:text-[#0ea5e9]">All</a>
              <a href="products.html?cat=chargers" class="text-sm text-gray-600 hover:text-[#0ea5e9]">Chargers</a>
              <a href="products.html?cat=cases" class="text-sm text-gray-600 hover:text-[#0ea5e9]">Cases</a>
              <a href="products.html?cat=earphones" class="text-sm text-gray-600 hover:text-[#0ea5e9]">Earphones</a>
            </nav>
            <button id="openCart" class="ml-2 flex items-center gap-2 bg-[#111827] text-white px-3 py-2 rounded-md">
              ðŸ›’ <span id="cartCount" class="font-medium">0</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <section class="grid lg:grid-cols-12 gap-6">
      <div class="lg:col-span-8 hero-gradient rounded-2xl p-8 flex flex-col justify-between">
        <div>
          <h1 class="text-3xl md:text-4xl font-extrabold">Top mobile accessories â€” curated for you</h1>
          <p class="mt-3 text-gray-600 max-w-2xl">Fast charging, durable cases, best sound earphones and more. Free delivery above â‚¹999.</p>
        </div>
        <div class="mt-6 flex gap-3">
          <a href="products.html" class="px-5 py-3 bg-[#0ea5e9] text-white rounded-md font-medium shadow">Shop now</a>
          <a href="#bestsellers" class="px-5 py-3 border rounded-md text-gray-700">Bestsellers</a>
        </div>
      </div>

      <aside class="lg:col-span-4 bg-white rounded-2xl p-6 shadow">
        <h3 class="font-semibold mb-3">Daily Deals</h3>
        <div class="space-y-3">
          <div class="flex items-center gap-3">
            <img src="https://images.unsplash.com/photo-1585386959984-a4155224a6ee?q=60&w=200&auto=format&fit=crop" alt="" class="w-16 h-16 rounded object-cover">
            <div>
              <div class="font-medium">65W USB-C Charger</div>
              <div class="text-sm text-gray-500">Now â‚¹2,399 <span class="ml-2 badge-sale">-15%</span></div>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <img src="https://images.unsplash.com/photo-1512496015851-a90fb38ba796?q=60&w=200&auto=format&fit=crop" alt="" class="w-16 h-16 rounded object-cover">
            <div>
              <div class="font-medium">Wireless Earbuds V2</div>
              <div class="text-sm text-gray-500">Now â‚¹4,799 <span class="ml-2 badge-sale">-10%</span></div>
            </div>
          </div>
          <a href="products.html" class="block text-center mt-2 text-sm text-[#0ea5e9]">See all deals â†’</a>
        </div>
      </aside>
    </section>

    <!-- BESTSELLERS -->
    <section id="bestsellers" class="mt-10">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-xl font-semibold">Bestsellers</h2>
        <a href="products.html" class="text-sm text-[#0ea5e9]">View all products</a>
      </div>

      <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- FOOTER QUICK LINKS -->
    <footer class="mt-12 text-sm text-gray-600">
      <div class="border-t pt-4">
        <div class="flex flex-col sm:flex-row sm:justify-between">
          <div>Â© MobileAccessories</div>
          <div class="mt-2 sm:mt-0">Support: support@mobileacc.com â€¢ +91 90000 00000</div>
        </div>
      </div>
    </footer>
  </main>

  <!-- CART PANEL -->
  <aside id="cartPanel" class="fixed right-0 top-0 h-full w-full max-w-lg bg-white shadow-lg cart-panel z-50">
    <div class="p-6 flex items-center justify-between border-b">
      <div>
        <div class="font-bold">Your cart</div>
        <div id="cartItemsCount" class="text-sm text-gray-500">0 items</div>
      </div>
      <button id="closeCart" class="text-gray-600">âœ•</button>
    </div>
    <div class="p-6 overflow-auto" style="max-height:68vh" id="cartItems"></div>
    <div class="p-6 border-t">
      <div class="flex items-center justify-between mb-4">
        <div class="text-sm text-gray-600">Subtotal</div>
        <div class="font-semibold" id="cartSubtotal">â‚¹0</div>
      </div>
      <div class="flex gap-3">
        <a id="checkoutBtn" href="payment.html" class="flex-1 text-center px-4 py-2 bg-[#111827] text-white rounded">Checkout</a>
        <button id="clearBtn" class="px-4 py-2 border rounded">Clear</button>
      </div>
    </div>
  </aside>

  <!-- TOAST -->
  <div id="toast" class="fixed right-6 bottom-6 bg-black text-white px-4 py-2 rounded opacity-0 transition-opacity"></div>

  <script>
    /***********************
     * PRODUCTS (home copy)
     ***********************/
    const PRODUCTS = [
      { id:1, title:'65W USB-C Charger', price:29.99, category:'chargers', img:'https://images.unsplash.com/photo-1585386959984-a4155224a6ee?q=80&w=800&auto=format&fit=crop', rating:4.6, desc:'GaN fast charger, compact.' },
      { id:2, title:'Clear Shockproof Case', price:12.49, category:'cases', img:'https://images.unsplash.com/photo-1585386959984-a4155224a6ee?q=80&w=800&auto=format&fit=crop', rating:4.3, desc:'TPU case with reinforced corners.' },
      { id:3, title:'Wireless Earbuds V2', price:59.00, category:'earphones', img:'https://images.unsplash.com/photo-1512496015851-a90fb38ba796?q=80&w=800&auto=format&fit=crop', rating:4.7, desc:'ANC, 30H playtime.' },
      { id:4, title:'Braided Lightning Cable', price:7.99, category:'cables', img:'https://images.unsplash.com/photo-1545239351-1141bd82e8a6?q=80&w=800&auto=format&fit=crop', rating:4.4, desc:'Durable braided cable.' },
      { id:5, title:'10,000mAh Powerbank', price:24.95, category:'powerbanks', img:'https://images.unsplash.com/photo-1580894908360-7aa4f9a2f1d0?q=80&w=800&auto=format&fit=crop', rating:4.5, desc:'Slim, dual-output fast charge.' },
      { id:6, title:'Magnetic Car Mount', price:15.50, category:'stands', img:'https://images.unsplash.com/photo-1592891720276-b3b2c02a3d6d?q=80&w=800&auto=format&fit=crop', rating:4.1, desc:'Strong magnet, easy mount.' }
    ];

    // format currency INR
    function inr(val){ return 'â‚¹' + Number(val).toFixed(0); }

    // render grid
    const grid = document.getElementById('grid');
    function renderGrid(list){
      grid.innerHTML = '';
      list.forEach(p=>{
        const card = document.createElement('div');
        card.className = 'bg-white p-4 rounded-xl product-card';
        card.innerHTML = `
          <a href="products.html?id=${p.id}" class="block rounded overflow-hidden">
            <div class="w-full h-44 bg-gray-100 rounded overflow-hidden flex items-center justify-center">
              <img src="${p.img}" alt="${p.title}" class="w-full h-full object-cover">
            </div>
          </a>
          <div class="mt-3">
            <div class="flex items-center justify-between">
              <h3 class="font-medium">${p.title}</h3>
              <div class="text-sm text-gray-500">${p.rating} <span class="star">â˜…</span></div>
            </div>
            <div class="text-sm text-gray-500 mt-1">${p.desc}</div>
            <div class="mt-3 flex items-center justify-between">
              <div class="font-semibold">${inr(p.price*82)}</div>
              <div class="flex gap-2">
                <button class="addBtn px-3 py-1 bg-[#0ea5e9] text-white rounded" data-id="${p.id}">Add</button>
                <a href="payment.html?productId=${p.id}" class="px-3 py-1 border rounded">Buy</a>
              </div>
            </div>
          </div>
        `;
        grid.appendChild(card);
      });
      document.querySelectorAll('.addBtn').forEach(b=> b.addEventListener('click', e=> {
        addToCart(Number(e.currentTarget.dataset.id));
      }));
    }
    renderGrid(PRODUCTS);

    /***********************
     * CART (localStorage)
     ***********************/
    function readCart(){ return JSON.parse(localStorage.getItem('cart')||'[]'); }
    function writeCart(c){ localStorage.setItem('cart', JSON.stringify(c)); updateCartUI(); }

    function addToCart(id, qty=1){
      const cart = readCart();
      const item = cart.find(x=>x.productId===id);
      if(item) item.qty += qty; else cart.push({ productId:id, qty });
      writeCart(cart);
      toast('Added to cart');
      openCart();
    }

    function removeFromCart(id){
      let cart = readCart();
      cart = cart.filter(c=> c.productId !== id);
      writeCart(cart);
      toast('Removed from cart');
    }

    function updateQty(id, qty){
      const cart = readCart();
      const it = cart.find(c=> c.productId === id);
      if(!it) return;
      it.qty = Math.max(1, qty);
      writeCart(cart);
    }

    const cartPanel = document.getElementById('cartPanel');
    const cartItemsDiv = document.getElementById('cartItems');
    const cartCountEl = document.getElementById('cartCount');
    const cartItemsCount = document.getElementById('cartItemsCount');
    const cartSubtotalEl = document.getElementById('cartSubtotal');

    function updateCartUI(){
      const cart = readCart();
      cartItemsDiv.innerHTML = '';
      if(cart.length === 0){
        cartItemsDiv.innerHTML = '<div class="text-gray-600">Your cart is empty. Add items from the store.</div>';
      } else {
        cart.forEach(c=>{
          const p = PRODUCTS.find(x=> x.id === c.productId) || { title:'Item', price:0, img:'' };
          const row = document.createElement('div');
          row.className = 'flex items-center gap-4 mb-4';
          row.innerHTML = `
            <img src="${p.img}" class="w-16 h-16 rounded object-cover">
            <div class="flex-1">
              <div class="font-medium">${p.title}</div>
              <div class="text-sm text-gray-500">${inr(p.price*82)}</div>
              <div class="mt-2 flex items-center gap-2">
                <button class="qty-dec px-2 py-1 border rounded" data-id="${p.id}">-</button>
                <input class="w-12 text-center border rounded qty-input" data-id="${p.id}" value="${c.qty}">
                <button class="qty-inc px-2 py-1 border rounded" data-id="${p.id}">+</button>
                <button class="text-sm text-red-600 ml-3 remove" data-id="${p.id}">Remove</button>
              </div>
            </div>
            <div class="font-semibold">${inr(p.price*82*c.qty)}</div>
          `;
          cartItemsDiv.appendChild(row);
        });
      }
      // totals:
      const subtotal = cart.reduce((s,c)=> {
        const p = PRODUCTS.find(x=> x.id === c.productId) || { price:0 };
        return s + p.price*82*c.qty;
      }, 0);
      cartSubtotalEl.textContent = inr(subtotal.toFixed(0));
      cartCountEl.textContent = cart.reduce((n,c)=> n + c.qty, 0);
      cartItemsCount.textContent = `${cart.reduce((n,c)=> n + c.qty, 0)} items`;

      // attach qty handlers
      document.querySelectorAll('.qty-dec').forEach(b=> b.addEventListener('click', e=>{
        const id = Number(e.currentTarget.dataset.id);
        const input = document.querySelector(`.qty-input[data-id="${id}"]`);
        const newv = Math.max(1, Number(input.value) - 1);
        input.value = newv; updateQty(id, newv);
      }));
      document.querySelectorAll('.qty-inc').forEach(b=> b.addEventListener('click', e=>{
        const id = Number(e.currentTarget.dataset.id);
        const input = document.querySelector(`.qty-input[data-id="${id}"]`);
        const newv = Math.max(1, Number(input.value) + 1);
        input.value = newv; updateQty(id, newv);
      }));
      document.querySelectorAll('.qty-input').forEach(inp=> inp.addEventListener('change', e=>{
        const id = Number(e.currentTarget.dataset.id);
        const v = Math.max(1, Number(e.currentTarget.value) || 1); e.currentTarget.value = v; updateQty(id, v);
      }));
      document.querySelectorAll('.remove').forEach(b=> b.addEventListener('click', e=> {
        removeFromCart(Number(e.currentTarget.dataset.id));
      }));
    }

    // cart controls:
    document.getElementById('openCart').addEventListener('click', openCart);
    document.getElementById('closeCart').addEventListener('click', closeCart);
    document.getElementById('clearBtn').addEventListener('click', ()=> { localStorage.removeItem('cart'); updateCartUI(); });

    function openCart(){ cartPanel.classList.add('open'); updateCartUI(); }
    function closeCart(){ cartPanel.classList.remove('open'); }

    // toast
    const toastEl = document.getElementById('toast');
    let toastTimer;
    function toast(msg){
      toastEl.textContent = msg;
      toastEl.style.opacity = '1';
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> toastEl.style.opacity = '0', 2000);
    }

    // search shortcut: go to products page with query
    document.getElementById('searchBtn').addEventListener('click', ()=>{
      const q = document.getElementById('search').value.trim();
      location.href = 'products.html?q=' + encodeURIComponent(q);
    });

    // mount initial cart UI
    updateCartUI();
  </script>
</body>
</html>
